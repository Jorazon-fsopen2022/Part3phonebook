{"version":3,"sources":["components/Filter.js","services/personService.js","components/PersonForm.js","components/Persons.js","components/Notification.js","App.js","index.js"],"names":["Filter","filterState","listFilter","setListFilter","value","onChange","event","target","baseURL","personService","getAll","axios","get","create","newPerson","post","update","existing","newNumber","put","id","number","delete","PersonForm","personsState","nameState","numberState","showNotification","persons","setPersons","newName","setNewName","setNewNumber","addPerson","preventDefault","find","person","name","window","confirm","then","response","data","map","p","catch","error","concat","onSubmit","onClick","Persons","filter","toLocaleLowerCase","includes","match","finally","deletePerson","Notification","message","color","className","style","App","useState","messageText","setMessageText","messageColor","setMessageColor","useEffect","text","setTimeout","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.6fceb4b3.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nconst Filter = ({ filterState }) => {\r\n\tconst [listFilter, setListFilter] = filterState;\r\n\r\n\tconst updateListFilter = (event) => {\r\n\t\tsetListFilter(event.target.value);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<form>\r\n\t\t\tfilter shown with <input value={listFilter} onChange={updateListFilter} />\r\n\t\t</form>\r\n\t);\r\n};\r\n\r\nexport default Filter;\r\n","import axios from \"axios\";\r\n\r\nconst baseURL = \"/api/persons\";\r\n\r\nconst getAllPersons = () => {\r\n\treturn axios.get(baseURL);\r\n};\r\n\r\nconst addPerson = (newPerson) => {\r\n\treturn axios.post(baseURL, newPerson);\r\n};\r\n\r\nconst editPerson = (existing, newNumber) => {\r\n\treturn axios.put(`${baseURL}/${existing.id}`, {\r\n\t\t...existing,\r\n\t\tnumber: newNumber,\r\n\t});\r\n};\r\n\r\nconst deletePerson = (id) => {\r\n\treturn axios.delete(`${baseURL}/${id}`);\r\n};\r\n\r\nconst personService = {\r\n\tgetAll: getAllPersons,\r\n\tcreate: addPerson,\r\n\tupdate: editPerson,\r\n\tdelete: deletePerson,\r\n};\r\n\r\nexport default personService;\r\n","import React from \"react\";\r\nimport personService from \"../services/personService\";\r\n\r\nconst PersonForm = ({ personsState, nameState, numberState, showNotification }) => {\r\n\tconst [persons, setPersons] = personsState;\r\n\tconst [newName, setNewName] = nameState;\r\n\tconst [newNumber, setNewNumber] = numberState;\r\n\r\n\tconst addPerson = (event) => {\r\n\t\tevent.preventDefault();\r\n\t\tconst existing = persons.find((person) => person.name === newName);\r\n\t\tif (existing) {\r\n\t\t\tif (\r\n\t\t\t\twindow.confirm(\r\n\t\t\t\t\t`${existing.name} is already added to phonebook, replace old number with new?`,\r\n\t\t\t\t)\r\n\t\t\t) {\r\n\t\t\t\tpersonService\r\n\t\t\t\t\t.update(existing, newNumber)\r\n\t\t\t\t\t.then((response) => {\r\n\t\t\t\t\t\tshowNotification(`Changed number of ${response.data.name}`, \"green\");\r\n\t\t\t\t\t\tsetPersons(persons.map((p) => (p.id !== existing.id ? p : response.data)));\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch((error) => showNotification(error.response.data, \"red\"));\r\n\t\t\t}\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tconst newPerson = {\r\n\t\t\tname: newName,\r\n\t\t\tnumber: newNumber,\r\n\t\t};\r\n\t\tpersonService\r\n\t\t\t.create(newPerson)\r\n\t\t\t.then((response) => {\r\n\t\t\t\tsetPersons(persons.concat(response.data));\r\n\t\t\t\tshowNotification(`Added ${response.data.name}`, \"green\");\r\n\t\t\t\tsetNewName(\"\");\r\n\t\t\t\tsetNewNumber(\"\");\r\n\t\t\t})\r\n\t\t\t.catch((error) => showNotification(error.response.data.error, \"red\"));\r\n\t};\r\n\r\n\treturn (\r\n\t\t<form onSubmit={addPerson}>\r\n\t\t\t<h2>add a new</h2>\r\n\t\t\t<div>\r\n\t\t\t\tname:{\" \"}\r\n\t\t\t\t<input\r\n\t\t\t\t\tvalue={newName}\r\n\t\t\t\t\tonChange={(event) => {\r\n\t\t\t\t\t\tsetNewName(event.target.value);\r\n\t\t\t\t\t}}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t\t<div>\r\n\t\t\t\tnumber:{\" \"}\r\n\t\t\t\t<input\r\n\t\t\t\t\tvalue={newNumber}\r\n\t\t\t\t\tonChange={(event) => {\r\n\t\t\t\t\t\tsetNewNumber(event.target.value);\r\n\t\t\t\t\t}}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t\t<div>\r\n\t\t\t\t<button onClick={addPerson}>add</button>\r\n\t\t\t</div>\r\n\t\t</form>\r\n\t);\r\n};\r\n\r\nexport default PersonForm;\r\n","import React from \"react\";\r\nimport personService from \"../services/personService\";\r\n\r\nconst Persons = ({ personsState, listFilter, showNotification }) => {\r\n\tconst [persons, setPersons] = personsState;\r\n\r\n\tconst deletePerson = (id) => {\r\n\t\tconst match = persons.find((p) => p.id === id);\r\n\t\tif (window.confirm(`Delete ${match.name}?`)) {\r\n\t\t\tpersonService\r\n\t\t\t\t.delete(id)\r\n\t\t\t\t.then(() => {\r\n\t\t\t\t\tshowNotification(`${match.name} was removed`, \"green\");\r\n\t\t\t\t})\r\n\t\t\t\t.catch(() => {\r\n\t\t\t\t\tshowNotification(\r\n\t\t\t\t\t\t`Information of ${match.name} has already been removed from the server`,\r\n\t\t\t\t\t\t\"red\",\r\n\t\t\t\t\t);\r\n\t\t\t\t})\r\n\t\t\t\t.finally(() => setPersons(persons.filter((p) => p.id !== id)));\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<ul>\r\n\t\t\t{persons\r\n\t\t\t\t.filter((person) => {\r\n\t\t\t\t\treturn person.name.toLocaleLowerCase().includes(listFilter);\r\n\t\t\t\t})\r\n\t\t\t\t.map((person) => (\r\n\t\t\t\t\t<li key={person.name}>\r\n\t\t\t\t\t\t{person.name} {person.number}{\" \"}\r\n\t\t\t\t\t\t<button onClick={() => deletePerson(person.id)}>delete</button>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t))}\r\n\t\t</ul>\r\n\t);\r\n};\r\n\r\nexport default Persons;\r\n","import React from \"react\";\r\n\r\nconst Notification = ({ message, color }) => {\r\n\tif (!message) return null;\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<div className={\"notification\"} style={{ color: color }}>\r\n\t\t\t\t{message}\r\n\t\t\t</div>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default Notification;\r\n","import React, { useState, useEffect } from \"react\";\n\nimport Filter from \"./components/Filter\";\nimport PersonForm from \"./components/PersonForm\";\nimport Persons from \"./components/Persons\";\nimport Notification from \"./components/Notification\";\nimport personService from \"./services/personService\";\n\nconst App = () => {\n\tconst [persons, setPersons] = useState([]);\n\tconst [newName, setNewName] = useState(\"\");\n\tconst [newNumber, setNewNumber] = useState(\"\");\n\tconst [listFilter, setListFilter] = useState(\"\");\n\tconst [messageText, setMessageText] = useState(null);\n\tconst [messageColor, setMessageColor] = useState(\"green\");\n\n\tuseEffect(() => {\n\t\tpersonService.getAll().then((response) => {\n\t\t\tsetPersons(response.data);\n\t\t});\n\t}, []);\n\n\tconst showNotification = (text, color) => {\n\t\t//console.log(text);\n\t\tsetMessageText(text);\n\t\tsetMessageColor(color);\n\t\tsetTimeout(() => setMessageText(null), 5000);\n\t};\n\n\treturn (\n\t\t<div>\n\t\t\t<h2>Phonebook</h2>\n\t\t\t<Notification message={messageText} color={messageColor} />\n\t\t\t<Filter filterState={[listFilter, setListFilter]} />\n\t\t\t<PersonForm\n\t\t\t\tpersonsState={[persons, setPersons]}\n\t\t\t\tnameState={[newName, setNewName]}\n\t\t\t\tnumberState={[newNumber, setNewNumber]}\n\t\t\t\tshowNotification={showNotification}\n\t\t\t/>\n\t\t\t<h2>Numbers</h2>\n\t\t\t<Persons\n\t\t\t\tpersonsState={[persons, setPersons]}\n\t\t\t\tlistFilter={listFilter}\n\t\t\t\tshowNotification={showNotification}\n\t\t\t/>\n\t\t</div>\n\t);\n};\n\nexport default App;\n","import ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nimport \"./index.css\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}